import { actions, useAppState } from '../../context/AppStateContext';
const { state, dispatch } = useAppState();

import { useMediaQuery, Theme, useTheme } from '@mui/material';

	const isSmallScreen = useMediaQuery<Theme>((theme) => theme.breakpoints.down('sm'));
	
	
	
- iPad midi sound problem? Is it just clipping??? need limiter?

- mobile you can move the seek handle vertically???? - make it not draggable at all ?
- restrict mouse events on seek handle container somehow - so you can't scroll the whole container on mobile. 
	- can you make the container unfocusable, but keep the handle interactable? 
	- or prevent scroll event entirely, unless it's programatically set


- Can you get audio data from youtube or another source? https://github.com/liwa-dev/YTAudioConverterAPI
	https://www.npmjs.com/package/ytdl-core
	https://medium.com/@pritubera/how-i-made-a-youtube-audio-downloader-using-node-js-and-react-js-c51bb757bbbf


- Get chroma analysis from Spotify? https://developer.spotify.com/documentation/web-api/reference/get-audio-analysis
- musicpy - https://musicpy.readthedocs.io/en/latest/Introduction/#introduction


- add keyboard shortcuts (spacebar, esc, arrow keys) 
- what sound should the midi be?
- mobile responsiveness 
- safari compatibility
- midi nodes are held when pausing, something even after stopping

- position playhead 
	- what if you have 2 of them? one in waveform, one in midi? 
	- or overlay container?
	- you can't link it to scrolling position because it's terrible without debouncing. 
	- what if you have a separate scrollable container whose scroll is linked to the main container, so you draw on top of it? 
- hitting pause doesn't stop midi current notes

- WaveformSVG.tsx:39 - scroll of waveform container is being set every time waveformScrollPosition, changes. 


- extract chord symbols 


Finetuning playback
- waveform is crossing itself at beginning and end

- set up CI/CDf


Typescript cheat sheet:
	onClickHandler: (e: React.MouseEvent<HTMLButtonElement>) => void;
	

waveform grey 423c3b
background grey 161616
play red df4440
timecode grey 2e2e2e
playhead blue 02b0fe


Features
- Select a portion of the waveform to see an average of values
- Playback auto-updates values.
- Data to display:
	- Volume
	- Pitch percentage
- Cool visualization.
	- Shows volume and pitch content using different params.
- Listen to microphone input and react.

Advanced Features
- Can you generate chord progression?
- Can you generate sheet music based on this? 

Issues
- Optimizing visualization of waveform?
- 

- chord analysis on bottom 
	- Find root of the chord: 
- triads: major, minor, dim, aug, sus4, sus2
- sevenths: Major, minor, halfDim, fullDim, dominant
7th, 9th, 11th, 13th 


brightred f52c40
darkred 800924
maroon 512330
navy 232e45
darkgrey 161616